import{r as n,t as he,U as h}from"./app-BSgr88to.js";import{d as G,n as y,K as V,y as ee,a as re,i as P,o as C,L as ne,O as me,e as pe,p as be,A as F,u as te,x as ge,m as Ee,R as $e,f as Ce,c as Te}from"./open-closed-_wDebbQC.js";function we(){let e=typeof document>"u";return(r=>r.useSyncExternalStore)(he)(()=>()=>{},()=>!1,()=>!e)}function le(){let e=we(),[r,t]=n.useState(G.isHandoffComplete);return r&&G.isHandoffComplete===!1&&t(!1),n.useEffect(()=>{r!==!0&&t(!0)},[r]),n.useEffect(()=>G.handoff(),[]),e?!1:r}function Re(){let e=n.useRef(!1);return y(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ie(e){var r;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((r=e.as)!=null?r:ue)!==n.Fragment||h.Children.count(e.children)===1}let j=n.createContext(null);j.displayName="TransitionContext";var Se=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Se||{});function Fe(){let e=n.useContext(j);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function xe(){let e=n.useContext(z);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let z=n.createContext(null);z.displayName="NestingContext";function D(e){return"children"in e?D(e.children):e.current.filter(({el:r})=>r.current!==null).filter(({state:r})=>r==="visible").length>0}function se(e,r){let t=pe(e),a=n.useRef([]),T=Re(),x=be(),m=C((s,l=F.Hidden)=>{let u=a.current.findIndex(({el:i})=>i===s);u!==-1&&(te(l,{[F.Unmount](){a.current.splice(u,1)},[F.Hidden](){a.current[u].state="hidden"}}),x.microTask(()=>{var i;!D(a)&&T.current&&((i=t.current)==null||i.call(t))}))}),w=C(s=>{let l=a.current.find(({el:u})=>u===s);return l?l.state!=="visible"&&(l.state="visible"):a.current.push({el:s,state:"visible"}),()=>m(s,F.Unmount)}),b=n.useRef([]),d=n.useRef(Promise.resolve()),p=n.useRef({enter:[],leave:[]}),g=C((s,l,u)=>{b.current.splice(0),r&&(r.chains.current[l]=r.chains.current[l].filter(([i])=>i!==s)),r==null||r.chains.current[l].push([s,new Promise(i=>{b.current.push(i)})]),r==null||r.chains.current[l].push([s,new Promise(i=>{Promise.all(p.current[l].map(([R,H])=>H)).then(()=>i())})]),l==="enter"?d.current=d.current.then(()=>r==null?void 0:r.wait.current).then(()=>u(l)):u(l)}),E=C((s,l,u)=>{Promise.all(p.current[l].splice(0).map(([i,R])=>R)).then(()=>{var i;(i=b.current.shift())==null||i()}).then(()=>u(l))});return n.useMemo(()=>({children:a,register:w,unregister:m,onStart:g,onStop:E,wait:d,chains:p}),[w,m,a,g,E,p,d])}let ue=n.Fragment,ae=me.RenderStrategy;function Pe(e,r){var t,a;let{transition:T=!0,beforeEnter:x,afterEnter:m,beforeLeave:w,afterLeave:b,enter:d,enterFrom:p,enterTo:g,entered:E,leave:s,leaveFrom:l,leaveTo:u,...i}=e,[R,H]=n.useState(null),o=n.useRef(null),$=ie(e),S=ee(...$?[o,r,H]:r===null?[]:[r]),W=(t=i.unmount)==null||t?F.Unmount:F.Hidden,{show:f,appear:X,initial:Y}=Fe(),[v,I]=n.useState(f?"visible":"hidden"),Z=xe(),{register:A,unregister:N}=Z;y(()=>A(o),[A,o]),y(()=>{if(W===F.Hidden&&o.current){if(f&&v!=="visible"){I("visible");return}return te(v,{hidden:()=>N(o),visible:()=>A(o)})}},[v,o,A,N,f,W]);let K=le();y(()=>{if($&&K&&v==="visible"&&o.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[o,v,K,$]);let ce=Y&&!X,q=X&&f&&Y,k=n.useRef(!1),U=se(()=>{k.current||(I("hidden"),N(o))},Z),J=C(B=>{k.current=!0;let M=B?"enter":"leave";U.onStart(o,M,O=>{O==="enter"?x==null||x():O==="leave"&&(w==null||w())})}),_=C(B=>{let M=B?"enter":"leave";k.current=!1,U.onStop(o,M,O=>{O==="enter"?m==null||m():O==="leave"&&(b==null||b())}),M==="leave"&&!D(U)&&(I("hidden"),N(o))});n.useEffect(()=>{$&&T||(J(f),_(f))},[f,$,T]);let fe=!(!T||!$||!K||ce),[,c]=ge(fe,R,f,{start:J,end:_}),de=Ee({ref:S,className:((a=Ce(i.className,q&&d,q&&p,c.enter&&d,c.enter&&c.closed&&p,c.enter&&!c.closed&&g,c.leave&&s,c.leave&&!c.closed&&l,c.leave&&c.closed&&u,!c.transition&&f&&E))==null?void 0:a.trim())||void 0,...$e(c)}),L=0;v==="visible"&&(L|=P.Open),v==="hidden"&&(L|=P.Closed),f&&v==="hidden"&&(L|=P.Opening),!f&&v==="visible"&&(L|=P.Closing);let ve=ne();return h.createElement(z.Provider,{value:U},h.createElement(Te,{value:L},ve({ourProps:de,theirProps:i,defaultTag:ue,features:ae,visible:v==="visible",name:"Transition.Child"})))}function ye(e,r){let{show:t,appear:a=!1,unmount:T=!0,...x}=e,m=n.useRef(null),w=ie(e),b=ee(...w?[m,r]:r===null?[]:[r]);le();let d=re();if(t===void 0&&d!==null&&(t=(d&P.Open)===P.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,g]=n.useState(t?"visible":"hidden"),E=se(()=>{t||g("hidden")}),[s,l]=n.useState(!0),u=n.useRef([t]);y(()=>{s!==!1&&u.current[u.current.length-1]!==t&&(u.current.push(t),l(!1))},[u,t]);let i=n.useMemo(()=>({show:t,appear:a,initial:s}),[t,a,s]);y(()=>{t?g("visible"):!D(E)&&m.current!==null&&g("hidden")},[t,E]);let R={unmount:T},H=C(()=>{var S;s&&l(!1),(S=e.beforeEnter)==null||S.call(e)}),o=C(()=>{var S;s&&l(!1),(S=e.beforeLeave)==null||S.call(e)}),$=ne();return h.createElement(z.Provider,{value:E},h.createElement(j.Provider,{value:i},$({ourProps:{...R,as:n.Fragment,children:h.createElement(oe,{ref:b,...R,...x,beforeEnter:H,beforeLeave:o})},theirProps:{},defaultTag:n.Fragment,features:ae,visible:p==="visible",name:"Transition"})))}function He(e,r){let t=n.useContext(j)!==null,a=re()!==null;return h.createElement(h.Fragment,null,!t&&a?h.createElement(Q,{ref:r,...e}):h.createElement(oe,{ref:r,...e}))}let Q=V(ye),oe=V(Pe),Le=V(He),Ne=Object.assign(Q,{Child:Le,Root:Q});export{Le as F,Re as f,le as l,Ne as z};
